{% extends 'base.html' %}

{% load staticfiles %}

{% load humanize %}


{% block title %}

	{{employee.full_name}}

{% endblock %}


{% block wrapper_css %}
<style>
body, html{

	height:100%;
}

#search {
	background-color: #333;
	color: #eee;
	padding:.5em;
	height: 100vh;
}

#content{
	height:100vh;
	border-right: thin solid #444;

}

#more_info {
	
	height: 100vh;
}
#context{
	padding-top:1em;
}

a {
color:#04BFBF;
}

h1 {
	font-family: 'News Cycle', sans-serif;
	font-weight: 700;
	color:#04BFBF;
	font-size: 4em;
}

#salary {
	padding-top:1em;
}
#salary h1{
	font-size: 6.27em;
}

h2 {
	padding-top: .2em;
	font-family: 'Josefin Sans', sans-serif;
	color: #000;
	font-weight:300;
	font-size:1.51em;

}


h3 {

	font-family: 'News Cycle', sans-serif;
	font-weight: 400;
	font-size: 2.17em;
}

input {
	width:80%;
	
}

.typeahead,
.tt-query,
.tt-hint {
  width: 396px;
  height: 30px;
  padding: 8px 12px;
  font-size: 24px;
  line-height: 30px;
  border: 2px solid #ccc;
  -webkit-border-radius: 8px;
     -moz-border-radius: 8px;
          border-radius: 8px;
  outline: none;
}

.typeahead {
  background-color: #fff;
}

.typeahead:focus {
  border: 2px solid #0097cf;
}

.tt-query {
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
     -moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
          box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}

.tt-hint {
  color: #999
}

.tt-dropdown-menu {
  width: 422px;
  margin-top: 12px;
  padding: 8px 0;
  background-color: #fff;
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.2);
  -webkit-border-radius: 8px;
     -moz-border-radius: 8px;
          border-radius: 8px;
  -webkit-box-shadow: 0 5px 10px rgba(0,0,0,.2);
     -moz-box-shadow: 0 5px 10px rgba(0,0,0,.2);
          box-shadow: 0 5px 10px rgba(0,0,0,.2);
}

.tt-suggestion {
  padding: 3px 20px;
  font-size: 18px;
  line-height: 24px;
}

.tt-suggestion.tt-is-under-cursor {
  color: #fff;
  background-color: #0097cf;

}

.tt-suggestion p {
  margin: 0;
}

</style>

{% endblock %}

{% block content %}

<div class="container-fluid">
	<div class='row-fluid'>
		
		<div class='span3'>

			<div id="search">
				<h3>SEARCH</h3>
				<form method="post" action="/search/" class="autocomplete-me">
					<input type="text"  placeholder='Search for employees' autocomplete="off" height='100' class="typeahead" name="q">
						<!-- <button type="submit"><img src="{% static "img/magnifyingglass_teal.png" %}" alt="Search" height="40" width="40"/>
						</button> -->
				</form>
			</div>
		</div>

		<div class='span7' id='content'>
			<div class='row-fluid'>
				<div class='span12'>
					<ul class="breadcrumb">
	  					<li><a href="{% url 'campus' primary.department.college.campus.id %}">{{primary.department.college.campus}}</a> <span class="divider">></span></li>
	  					<li><a href="{% url 'college' primary.department.college.id %}">{{primary.college}}</a> <span class="divider">></span></li>
	  					<li><a href="{% url 'department' primary.department.id %}">{{primary.department}}</a> <span class="divider">></span></li>
	  					<li class="active">{{employee.full_name}}</a></li>
					</ul>
				</div>
			</div>

			<div class="row-fluid">
			{% if employee.mug_set.all %}
				<div class="span2">
					{% for mug in employee.mug_set.all %}
					<img height="150" width="150" src="{{ MEDIA_URL }}{{ mug.image.url }}"/>
				</div>
				<div class="span9">
					{% endfor %}
			{% else %}
				<div class="span12">
			{% endif %}
					<h1>{{employee.full_name | upper}}</h1>
					<h2 style="font-size:blue">{{primary.position.title | upper}} | {{primary.college | upper}}</h2>
				</div>
			</div>

			<div class='row-fluid'>
				<div class='span12'>
					<div id='salary'>
						<h1> ${{primary.identity.proposed_total_salary | intcomma }}0</h1>
					</div>
				
				

				</div>
			</div>
			<div class='row-fluid'>
				<div class='span12'>
					<div id='context'>
						<h3>Making more than <strong>{{primary.identity.total_percentile |floatformat:"1" }}%</strong> of the rest of {{primary.college.campus}}
					</div>
				</div>
			</div>
		</div>
		<div class='span2' id='more_info'>
			<h2>College: {{primary.college}}</h2>
		</div>
	</div>
</div>
<script type="text/javascript">
{% verbatim %}
 $('.typeahead').typeahead({
    name: 'employees',
    remote: '/search/autocomplete/?q=%QUERY',
    //THIS IS A BAD WAY TO LINK BUT I DON'T CARE.
    template: '<p><a href="../{{id}}">{{name}}</a></p>',
    engine:Hogan
  });
 {% endverbatim %}
</script>



{% endblock %}